<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Langton's Ant </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Langton's Ant ">
    <meta name="generator" content="docfx 2.59.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link rel="stylesheet" href="../../styles/custom.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="langtons-ant">Langton's Ant</h1>

<div class="NOTE">
<h5>Note</h5>
<p>The source code for this tutorial can also be found in the <a href="https://github.com/BorisTheBrave/sylves-demos/tree/main/Assets/Langton">demo code</a></p>
</div>
<p><a href="https://en.wikipedia.org/wiki/Langton%27s_ant">Langton's ant</a> is a simple mathematical game played on a square grid.</p>
<p>The idea is you imagine an ant on an infinite grid of white cells.</p>
<p>Each turn, it moves forward.</p>
<ul>
<li>If it lands on a white square, it turns 90 degrees clockwise, then flips the color of the square to black.</li>
<li>If it lands on a black square, it turns 90 degrees counter-clockwise, then flips the color of the square to white.</li>
</ul>
<p>Let's code this using Sylves. First, we need to define the grid we are working on. Sylves comes with <a href="../grids/squaregrid.html"><code>SquareGrid</code></a> for this purpose, which defaults to infinite size. We pass in 1f as the cell size, though the size of the grid isn't relevant to this tutorial.</p>
<pre><code class="lang-csharp">using Sylves;
var grid = new SquareGrid(1f);
</code></pre>
<p>Next, we'll store which cells are black or white. As there's an infinite amount of white cells, we'll just store the black ones, and assume everything else is white.</p>
<pre><code class="lang-csharp">var blackCells = new HashSet&lt;Cell&gt;();
</code></pre>
<p>Now we'll define the initial conditions. We need to know what cell the ant starts in, and what direction it is facing.</p>
<pre><code class="lang-csharp">var startCell = new Cell(0, 0);
var startDir = SquareDir.Up;
</code></pre>
<p>Next we'll definte a <a class="xref" href="../../api/Sylves.Walker.html"><code>Walker</code></a>. Walkers are a utility class for easily representing an entity that moves on a grid. Note that we need to cast from <code>SquareDir</code> to <code>CellDir</code>. The latter is a <a href="../concepts/index.html#abstract-and-specific-types">abstract direction shared between all grid types</a>.</p>
<pre><code class="lang-csharp">var ant = new Walker(grid, startCell, (CellDir)startDir);
</code></pre>
<p>Finally, we can write a Step method that does the actual logic of the ant's movement.</p>
<pre><code class="lang-csharp">void Step()
{
    Console.WriteLine($&quot;Ant is at {ant.Cell} and is facing {(SquareDir)ant.Dir}&quot;);
    ant.MoveForward();
    var isCurrentCellBlack = blackCells.Contains(ant.Cell);
    if (isCurrentCellBlack)
    {
        ant.TurnRight();
        blackCells.Remove(ant.Cell);
    }
    else
    {
        ant.TurnLeft();
        blackCells.Add(ant.Cell);
    }
}
</code></pre>
<p>That's it, you can now see the behaviour of the ant logged out with each step.</p>
<pre><code>Ant is at (0, 0, 0) and is facing Up
Ant is at (0, 1, 0) and is facing Right
Ant is at (1, 1, 0) and is facing Down
Ant is at (1, 0, 0) and is facing Left
Ant is at (0, 0, 0) and is facing Up
Ant is at (0, 1, 0) and is facing Left
Ant is at (-1, 1, 0) and is facing Up
...
</code></pre>
<p>The nice thing about this code is it is very generic. The same code works with many other grids, you just need change the grid and initial conditions. Try some of the following and see how the ant behaves:</p>
<pre><code class="lang-csharp">var grid = new WrappingSquareGrid(1f, new Vector2Int(10, 10));
var startCell = new Cell(0, 0);
var startDir = SquareDir.Up;
</code></pre>
<pre><code class="lang-csharp">var grid = new HexGrid(1f, HexOrientation.FlatTopped);
var startCell = new Cell(0, 0, 0);
var startDir = FTHexDir.Up;
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
